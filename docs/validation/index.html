<!DOCTYPE html>
<html lang='en-US' xml:lang='en-US' xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <title>Mongoid Documentation: Validation</title>
    <link href='/stylesheets/docs.css' media='all' rel='stylesheet' type='text/css'>
  </head>
  <body>
    <div id='docs'>
      <div id='page_menu'>
        <ul>
          <li class=''>
            <a href='/'>Home</a>
          </li>
          <li class='current_page_item'>
            <a href='/docs/installation/'>Documentation</a>
          </li>
          <li class=''>
            <a href='/links/'>Links</a>
          </li>
          <li class=''>
            <a href='/about/'>About</a>
          </li>
        </ul>
      </div>
      <div id='header'>
        <a href='/'>
          <h1 class='logo' title='[mon-goyd]'>MONGOID</h1>
        </a>
        <a class='docs_header' href='../installation/'>Documentation</a>
      </div>
      <div class='main'>
        <div class='border'>
          <div class='content_body colorize'>
            <h2>Validation</h2>
            <p>&#x000A;  Mongoid includes <tt>ActiveModel::Validation</tt> to supply the basic validation plus an&#x000A;  additional associated and uniqueness validator.&#x000A;</p>&#x000A;<p>&#x000A;  See <tt><a href="http://github.com/rails/rails/blob/master/activemodel/lib/active_model/validations.rb">ActiveModel::Validations</a></tt> documentation for more information.&#x000A;</p>&#x000A;<p>Common options that can be passed to all validations:</p>&#x000A;<ul>&#x000A;<li>&#x000A;    <tt>:allow_nil</tt> Specify whether to validate on a nil attribute.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:if</tt> Only run if the supplied value evaluates to true.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:on</tt> Only run when specified, supports <tt>:create</tt> and <tt>:update</tt>.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:unless</tt> Only run if the supplied value evaluates to false.&#x000A;  </li>&#x000A;</ul><p>&#x000A;  In addition to those validations, information is provided with each macro&#x000A;  about its specific options.&#x000A;</p>&#x000A;<p>&#x000A;  <i>Validate the acceptance of a boolean field:</i>&#x000A;</p>&#x000A;Options:&#x000A;<ul>&#x000A;<li>&#x000A;    <tt>:message</tt> Supply a custom error message.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:accept</tt> Specify the accepted value.&#x000A;  </li>&#x000A;</ul><pre><code class="language-ruby">validates_acceptance_of <span class="sy">:terms</span></code></pre>&#x000A;<p>&#x000A;  <i>Validate associated documents along with the parent:</i>&#x000A;</p>&#x000A;Options:&#x000A;<ul>&#x000A;<li>&#x000A;    <tt>:message</tt> Supply a custom error message.&#x000A;  </li>&#x000A;</ul><pre><code class="language-ruby">validates_associated <span class="sy">:addresses</span>, <span class="sy">:employers</span></code></pre>&#x000A;<p>&#x000A;  <i>Validate confirmation of a field via an accessor with "_confirmation" as its suffix:</i>&#x000A;</p>&#x000A;Options:&#x000A;<ul>&#x000A;<li>&#x000A;    <tt>:message</tt> Supply a custom error message.&#x000A;  </li>&#x000A;</ul><pre><code class="language-ruby">validates_confirmation_of <span class="sy">:password</span></code></pre>&#x000A;<p>&#x000A;  <i>Validate items are excluded from a collection:</i>&#x000A;</p>&#x000A;Options:&#x000A;<ul>&#x000A;<li>&#x000A;    <tt>:in</tt> A list or range the item must not be included in.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:message</tt> Supply a custom error message.&#x000A;  </li>&#x000A;</ul><pre><code class="language-ruby">validates_exclusion_of <span class="sy">:employers</span>, <span class="sy">:in</span> =&gt; [<span class="s"><span class="dl">"</span><span class="k">Hashrocket</span><span class="dl">"</span></span>]</code></pre>&#x000A;<p>&#x000A;  <i>Validate the format of a field:</i>&#x000A;</p>&#x000A;Options:&#x000A;<ul>&#x000A;<li>&#x000A;    <tt>:in</tt> A list or range the item must not be included in.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:allow_blank</tt> Specify whether to validate blank attributes.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:with</tt> The regular expression to match against.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:without</tt> The regular expression to check it does not match.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:message</tt> Supply a custom error message.&#x000A;  </li>&#x000A;</ul><pre><code class="language-ruby">validates_format_of <span class="sy">:title</span>, <span class="sy">:with</span> =&gt; <span class="rx"><span class="dl">/</span><span class="k">[A-Za-z]</span><span class="dl">/</span></span></code></pre>&#x000A;<p>&#x000A;  <i>Validate the inclusion of an item in a collection:</i>&#x000A;</p>&#x000A;Options:&#x000A;<ul>&#x000A;<li>&#x000A;    <tt>:allow_blank</tt> Specify whether to validate blank attributes.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:in</tt> The list or range the check the value against.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:message</tt> Supply a custom error message.&#x000A;  </li>&#x000A;</ul><pre><code class="language-ruby">validates_inclusion_of <span class="sy">:employers</span>, <span class="sy">:in</span> =&gt; [<span class="s"><span class="dl">"</span><span class="k">Hashrocket</span><span class="dl">"</span></span>]</code></pre>&#x000A;<p>&#x000A;  <i>Validate the length of a field:</i>&#x000A;</p>&#x000A;Options:&#x000A;<ul>&#x000A;<li>&#x000A;    <tt>:allow_blank</tt> Specify whether to validate blank attributes.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:in</tt> Specify the range the length of the attribute can fall within.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:maximum</tt> Specify the maximum length of the attribute.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:message</tt> Supply a custom error message.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:minimum</tt> Specify the minimum length of the attribute.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:tokenizer</tt> A block to define how the string should be broken up.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:too_long</tt> Define a custom message if the attribute is too long.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:too_short</tt> Define a custom message if the attribute is too short.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:within</tt> Specify the range the length of the attribute can fall within.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:wrong_length</tt> Define a custom message for an incorrect length.&#x000A;  </li>&#x000A;</ul><pre><code class="language-ruby">validates_length_of <span class="sy">:password</span>, <span class="sy">:minimum</span> =&gt; <span class="i">8</span>, <span class="sy">:maximum</span> =&gt; <span class="i">16</span></code></pre>&#x000A;<p>&#x000A;  <i>Validate the numericality of a field:</i>&#x000A;</p>&#x000A;Options:&#x000A;<ul>&#x000A;<li>&#x000A;    <tt>:equal_to</tt> Specify a value the field must be exactly.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:even</tt> Set that the value must be even.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:greater_than</tt> Specify a value the field must be greater than.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:greater_than_or_equal_to</tt>&#x000A;    Specify a value the field must be greater than or equal to.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:less_than</tt>&#x000A;    Specify a value the field must be less than.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:less_than_or_equal_to</tt> Specify a value the field must be less than or equal to.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:message</tt> Supply a custom error message.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:odd</tt> Set that the value must be odd.&#x000A;  </li>&#x000A;  <li>&#x000A;    <tt>:only_integer</tt> Set whether the value has to be an integer.&#x000A;  </li>&#x000A;</ul><pre><code class="language-ruby">validates_numericality_of <span class="sy">:age</span>, <span class="sy">:even</span> =&gt; <span class="pc">true</span></code></pre>&#x000A;<p>&#x000A;  <i>Validate that a field exists:</i>&#x000A;</p>&#x000A;Options:&#x000A;<ul>&#x000A;<li>&#x000A;    <tt>:message</tt> Supply a custom error message.&#x000A;  </li>&#x000A;</ul><pre><code class="language-ruby">validates_presence_of <span class="sy">:first_name</span></code></pre>&#x000A;<p>&#x000A;  <i>Validate that the field is unique in the database:</i>&#x000A;</p>&#x000A;<p>&#x000A;  Note that for embedded documents, this will only check that the&#x000A;  field is unique within the context of the parent document, not the&#x000A;  entire database.&#x000A;</p>&#x000A;Options:&#x000A;<ul>&#x000A;<li>&#x000A;    <tt>:message</tt> Supply a custom error message.&#x000A;  </li>&#x000A;</ul><pre><code class="language-ruby">validates_uniqueness_of <span class="sy">:ssn</span></code></pre>&#x000A;&#x000A;
          </div>
        </div>
      </div>
      <div id='rightcolumn'>
        <div class='box' id='search'>
          <div class='roundedbox'>
            <h3>Contents</h3>
          </div>
        </div>
        <ul class='outline'>
          <li><a href="/docs/installation/">Installation</a></li>
          <li><a href="/docs/documents/">Documents</a></li>
          <li><a href="/docs/associations/">Associations</a></li>
          <li><a href="/docs/persistence/">Persistence</a></li>
          <li><a href="/docs/querying/">Querying</a></li>
          <li><a href="/docs/callbacks/">Callbacks</a></li>
          <li><span class="active" title="You're here.">Validation</span></li>
          <li><a href="/docs/inheritance/">Inheritance</a></li>
          <li><a href="/docs/indexing/">Indexing</a></li>
          <li><a href="/docs/extras/">Extras</a></li>
          <li><a href="/docs/rake/">Rake Tasks</a></li>
          <li><a href="/docs/integration/">Integration</a></li>
          <li><a href="/docs/extensions/">Extensions</a></li>
          <li><a href="/docs/upgrading/">Upgrading</a></li>
        </ul>
      </div>
      <div id='footer'>
        <p>
          Mongoid is maintained by <a href="http://twitter.com/modetojoy">Durran Jordan</a>, Site by <a href="http://twitter.com/railsjedi">@railsjedi</a> and <a href="http://twitter.com/fredrikhenne">@fredrikhenne</a>. Mongoid is free software under the MIT license.
        </p>
      </div>
    </div>
    <div id='ribbon'>
      <p>
        <a href='http://github.com/mongoid/mongoid-site' rel='me' title='Fork me on GitHub!'>Fork me on GitHub!</a>
      </p>
    </div>
  </body>
</html>
